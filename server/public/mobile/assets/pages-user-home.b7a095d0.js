import{_ as a}from"./u-avatar.26a1991d.js";import{v as s,h as e,j as t,a as l,c as i,w as r,d as o,C as n,B as u,I as c,J as d,i as v,s as f,K as m,r as p,o as _,n as g,e as h,t as y}from"./index-24f85b57.js";import{_ as k}from"./u-icon.86e87a54.js";import{_ as w,a as j}from"./service.67be531f.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";import{d as b}from"./designApi.3136092f.js";import{u as C}from"./userApi.0df39d1d.js";const I=x({__name:"adv",props:{list:{type:Array,default:()=>[]}},setup(a){const f=a,m=s((()=>{let a=[];return f.list.forEach((s=>{let e="";void 0!==s.title?e=s.title:void 0!==s.name?e=s.name:void 0!==s.text&&(e=s.text),a.push({title:e,image:s.image,link:s.link})})),a})),p=a=>{const s=m.value[a].link;u.tarBarList().includes(s.trim("/"))?c({url:s}):d({url:s})};return(a,s)=>{const u=e(t("u-swiper"),w),c=v;return l(),i(c,{class:"layout-adv-widget"},{default:r((()=>[o(u,{list:n(m),height:200,title:!1,"border-radius":14,"indicator-pos":"none",onClick:p},null,8,["list"])])),_:1})}}},[["__scopeId","data-v-b5ade35c"]]),A=x({__name:"home",setup(s){const u=f(),{isLogin:c}=m(u),d=p({}),w=p({}),x=p({});return _((async()=>{try{const a=await b.diyMe();w.value=a.adv,x.value=a.service,c.value&&(d.value=await C.center())}catch(a){return!1}})),(s,u)=>{const f=e(t("u-avatar"),a),m=v,p=e(t("u-icon"),k),_=e(t("w-service"),j),b=e(t("w-adv"),I);return l(),i(m,{class:g(s.themeName)},{default:r((()=>{var a,e,t,v,g;return[o(m,{class:"layout-header-widget"},{default:r((()=>[o(m,{class:"grid-skinny-unit"},{default:r((()=>[o(m,{class:"flex items-center"},{default:r((()=>[o(f,{src:d.value.avatar,mode:"circle",size:"100",class:"h-100"},null,8,["src"]),n(c)?(l(),i(m,{key:0,class:"synopsis"},{default:r((()=>[o(m,{class:"font-lg color-white"},{default:r((()=>[h(y(d.value.nickname),1)])),_:1}),o(m,{class:"font-xs color-lighter"},{default:r((()=>[h("ID: "+y(d.value.sn),1)])),_:1})])),_:1})):(l(),i(m,{key:1,class:"login",onClick:u[0]||(u[0]=a=>s.$go("/pages/login/enroll"))},{default:r((()=>[h("点击登录")])),_:1}))])),_:1}),o(m,{class:"flex items-start"},{default:r((()=>[o(p,{class:"icon",name:"setting",color:"#ffffff",size:"42",onClick:u[1]||(u[1]=a=>s.$go("/pages/user/intro"))})])),_:1})])),_:1})])),_:1}),o(_,{mod:null==(a=x.value.base)?void 0:a.layout,title:null==(e=x.value.base)?void 0:e.title,grid:null==(t=x.value.base)?void 0:t.layout,list:null==(v=x.value)?void 0:v.list},null,8,["mod","title","grid","list"]),o(b,{list:null==(g=w.value)?void 0:g.list},null,8,["list"])]})),_:1},8,["class"])}}},[["__scopeId","data-v-86e3d6bb"]]);export{A as default};
