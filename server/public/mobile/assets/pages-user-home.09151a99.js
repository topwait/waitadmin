import{_ as a}from"./loading.9971943c.js";import{z as s,h as e,j as l,a as t,c as i,w as o,d as r,G as n,E as u,L as d,M as c,i as v,r as f,y as m,N as p,o as _,K as g,n as y,b as h,e as k,t as w}from"./index-8a67b1b0.js";import{_ as j}from"./u-avatar.94425e39.js";import{_ as x}from"./u-icon.0f26094d.js";import{_ as b,a as z}from"./service.64d6188c.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import{d as I}from"./designApi.c0b23881.js";const L=C({__name:"adv",props:{list:{type:Array,default:()=>[]}},setup(a){const f=a,m=s((()=>{let a=[];return f.list.forEach((s=>{let e="";void 0!==s.title?e=s.title:void 0!==s.name?e=s.name:void 0!==s.text&&(e=s.text),a.push({title:e,image:s.image,link:s.link})})),a})),p=a=>{const s=m.value[a].link;u.tarBarList().includes(s.trim("/"))?d({url:s}):c({url:s})};return(a,s)=>{const u=e(l("u-swiper"),b),d=v;return t(),i(d,{class:"layout-adv-widget"},{default:o((()=>[r(u,{list:n(m),height:200,title:!1,"border-radius":14,"indicator-pos":"none",onClick:p},null,8,["list"])])),_:1})}}},[["__scopeId","data-v-456b33aa"]]),A=C({__name:"home",setup(s){const u=f(!0),d=m(),{isLogin:c}=p(d),b=f({}),C=f({}),A=f({});return _((async()=>{const a=await I.diyMe();A.value=a.adv,C.value=a.service,c.value&&(b.value=await g.center()),u.value=!1})),(s,d)=>{const f=e(l("w-loading"),a),m=e(l("u-avatar"),j),p=v,_=e(l("u-icon"),x),g=e(l("w-service"),z),I=e(l("w-adv"),L);return t(),i(p,{class:y(s.themeName)},{default:o((()=>{var a,e,l,v,y;return[h(" 首次加载 "),u.value?(t(),i(f,{key:0})):h("v-if",!0),h(" 用户信息 "),r(p,{class:"layout-header-widget"},{default:o((()=>[r(p,{class:"grid-skinny-unit"},{default:o((()=>[r(p,{class:"flex items-center"},{default:o((()=>[r(m,{src:b.value.avatar,mode:"circle",size:"100",class:"h-100"},null,8,["src"]),n(c)?(t(),i(p,{key:0,class:"synopsis"},{default:o((()=>[r(p,{class:"font-lg color-white"},{default:o((()=>[k(w(b.value.nickname),1)])),_:1}),r(p,{class:"font-xs color-lighter"},{default:o((()=>[k("ID: "+w(b.value.sn),1)])),_:1})])),_:1})):(t(),i(p,{key:1,class:"login",onClick:d[0]||(d[0]=a=>s.$go("/pages/login/enroll"))},{default:o((()=>[k("点击登录")])),_:1}))])),_:1}),r(p,{class:"flex items-start"},{default:o((()=>[r(_,{class:"icon",name:"setting",color:"#ffffff",size:"42",onClick:d[1]||(d[1]=a=>s.$go("/pages/user/intro"))})])),_:1})])),_:1})])),_:1}),h(" 用户服务 "),r(g,{mod:null==(a=C.value.base)?void 0:a.layout,title:null==(e=C.value.base)?void 0:e.title,grid:null==(l=C.value.base)?void 0:l.layout,list:null==(v=C.value)?void 0:v.list},null,8,["mod","title","grid","list"]),h(" 轮播广告 "),r(I,{list:null==(y=A.value)?void 0:y.list},null,8,["list"])]})),_:1},8,["class"])}}},[["__scopeId","data-v-5f99ee60"]]);export{A as default};
